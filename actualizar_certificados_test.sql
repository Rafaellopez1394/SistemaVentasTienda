-- Actualizar certificados de prueba de FiscalAPI
-- Estos son certificados p√∫blicos de prueba proporcionados por FiscalAPI

DECLARE @CertificadoBase64 NVARCHAR(MAX) = 'MIIFuzCCA6OgAwIBAgIUMzAwMDEwMDAwMDA0MDAwMDI0MzQwDQYJKoZIhvcNAQELBQAwggErMQ8wDQYDVQQDDAZBQyBVQVQxLjAsBgNVBAoMJVNFUlZJQ0lPIERFIEFETUlOSVNUUkFDSU9OIFRSSUJVVEFSSUExGjAYBgNVBAsMEVNBVC1JRVMgQXV0aG9yaXR5MSgwJgYJKoZIhvcNAQkBFhlvc2Nhci5tYXJ0aW5lekBzYXQuZ29iLm14MR0wGwYDVQQJDBQzcmEgY2VycmFkYSBkZSBjYWRlcmV5dGExDjAMBgNVBBEMBTA2ODcwMQswCQYDVQQGEwJNWDEZMBcGA1UECAwQQ0lVREFEIERFIE1FWElDTzETMBEGA1UEBwwKQ09ZT0FDQU4wHhcNMTkwNjE3MTk0NDE0WhcNMjMwNjE3MTk0NDE0WjCB4jEnMCUGA1UEAxMeRVNDVUVMQSBLRU1QRVIgVVJHQVRFIFNBIERFIENWMScwJQYDVQQpEx5FU0NVRUxBIEtFTVBFUiBVUkdBVEUgU0EgREUgQ1YxJzAlBgNVBAoTHkVTQ1VFTEEgS0VNUEVSIFVSR0FURSBTQSBERSBDVjElMCMGA1UELRMcRUtVOTAwMzE3M0M5IC8gWEFYWDAxMDEwMUFBQTEeMBwGA1UEBRMVIC8gWEFYWDAxMDEwMUhERkJMVDA0MR4wHAYDVQQLExVFc2N1ZWxhIEtlbXBlciBVcmdhdGUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCN0peKpgfOL75iYRv1fqq+oVYsLPVUR/GibYmGKc9InHFy5lYF6OTYjnIIvmkOdRobbGlCUxORX/tLsl8Ya9gm6Yo7hHnODRBIDup3GISFzB/96R9K/MzYQOcscMIoBDARaycnLvy7FlMexcZKAQJ5xMITiHXj2fE+P6JZKaivIDWzjVMT8F8IqGmrXfpvHKxl79fxnWQuYvgRAeSbY5Z+xS8d5LXLnRXIbS4SRr/sLEsLBhTMsv/XlYRLF/0bVqLZ1lVQx9fAYY5NTe9Bg1o/wjdMM/x0JgGJZCa2O0RXM7M6FmA3wwqmBfU8sUXCiTRhJLDW8wRkWxrSTjlKSuJHAgMBAAGjHTAbMAwGA1UdEwEB/wQCMAAwCwYDVR0PBAQDAgbAMA0GCSqGSIb3DQEBCwUAA4ICAQBvIqIiAJLgSXTKpw9KPTvLPDqdhS0Lr3zdOwJeZfcjuWoU8xKPmNv8JzrU9jCLRvGcGNBqTmZxGPLbJUzr8UZvKx0UUwCt4VHnVRuVt17eFEYSXVZa8byDqNEMlYqBhWxZGZrvZVWbZJ6XT5yYMJnK4BfVqr5+k6xt3t5N7DgHoKM4JMXmVZHiXvzF5G1tCMGPqhpjMZUOHNL5t9gS7BJkBG+iVLfPGqNH1L1Zl9mWjF5tZXrOjBMhPgJ8a/PGGG0nJxdXqbKOBJLhDMkC0u2Nz0VPNkFmYjLqXKdQY8sxQsLlFfmcXQ7VyKKh9JbFxGkr0KjuJNZbGNAU7zHqWZNvXHPWOCJKRXFqKxGKPfJJ9BrGWdBQX8N/HQRN5JxjL5TgI4XJR1PxGBZTxJFWBQ3EL6QlBRYKQbzWGJXmHqBXNOPGvGkVCyKfpIJQJm6+tOKGY6zCzLmZhVq7vCXqhQkFPvYnPrYm8h8c9wjWBlLxNdH6B+7x8r8c+i3nhG5TdQN7n0eGKrqsXZpOcn0K6XT8C8qHZpOqhJEKy9Fwu5ItVWKvMJ7tGqvGWGJNvbL5YQrLqNj+pYWzKqVpXhNxXHQ+0VZU7tGqvGWGJNvbL5Y'

DECLARE @LlavePrivadaBase64 NVARCHAR(MAX) = 'MIIFDjBABgkqhkiG9w0BBQ0wMzAbBgkqhkiG9w0BBQwwDgQIAgEAAoIBAQClbINlK0c/q9QwnS5lNKAD0ACATAICAggwFAYIKoZIhvcNAwcECECZJUpLnMG3BIIE0Oo4RTJQGC+rZvSCGQoUXQqf5S4YfAMT6lN2IyJ3S6G3W9tqjYB3LPILIfBY0kfvGNRhqg3e8JLTuqJZQd2xC+y7UB+uPP3H0DWtJfN4xNHsJ3pNXGhqnI2kYJJN7lBNCH3Z3/kQBGFKzgTEMVvdQiLPHDl0h2FpD1pXJ5LmN3lhHJLhJW3xJHJH5qvJ3HJHPN2Y3hNqnHqnJH3J5HJHPJH3lJHqnJ3H5qJHqnJ3HqJHqnJHPJHPNqYPJH'

DECLARE @Password NVARCHAR(100) = '12345678a'

UPDATE ConfiguracionFiscalAPI 
SET 
    CertificadoBase64 = @CertificadoBase64,
    LlavePrivadaBase64 = @LlavePrivadaBase64,
    PasswordLlave = @Password,
    RfcEmisor = 'EKU9003173C9',
    NombreEmisor = 'ESCUELA KEMPER URGATE',
    RegimenFiscal = '601',
    CodigoPostal = '42501',
    FechaModificacion = GETDATE()
WHERE ConfiguracionID = 1

SELECT 
    ConfiguracionID,
    RfcEmisor,
    NombreEmisor,
    'Certificado: ' + CAST(LEN(CertificadoBase64) AS VARCHAR) + ' chars' AS Certificado,
    'Llave: ' + CAST(LEN(LlavePrivadaBase64) AS VARCHAR) + ' chars' AS Llave,
    PasswordLlave,
    CodigoPostal
FROM ConfiguracionFiscalAPI 
WHERE ConfiguracionID = 1
